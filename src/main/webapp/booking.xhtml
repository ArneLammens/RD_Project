<ui:composition template="template/master.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">
    <f:metadata>
        <f:viewAction action="#{bookingController.init()}" onPostback="false"/>
    </f:metadata>

    <ui:define name="divTop">
        <ui:include src='template/top.xhtml'/>
    </ui:define>

    <ui:define name="divMain">
        <p:panel header="#{lbl['booking.bookATrip']}" styleClass="col-md-9">
        <h:form>
            <div class="col-md-12">
               <div class="col-md-4">
                    <h2 >#{lbl['booking.info']}</h2>
                    <p:panelGrid columns="2">
                        <p:outputLabel for="personName" value="#{lbl['booking.personName']}"/>
                        <h:outputText id="personName" value="#{bookingController.person.name}"/>
                        <p:outputLabel for="personLastname" value="#{lbl['booking.personLastname']}"/>
                        <h:outputText id="personLastname" value="#{bookingController.person.lastName}"/>
                        <p:outputLabel for="personEmail" value="#{lbl['booking.personEmail']}"/>
                        <h:outputText id="personEmail" value="#{bookingController.person.email}"/>
                        <p:outputLabel for="personHomeNumber" value="#{lbl['booking.personHomeNumber']}"/>
                        <h:outputText id="personHomeNumber" value="#{bookingController.person.homeNumber}"/>
                        <p:outputLabel for="personZipcode" value="#{lbl['booking.personZipcode']}"/>
                        <h:outputText id="personZipcode" value="#{bookingController.person.zipCode}"/>
                        <p:outputLabel for="personMunicipality" value="#{lbl['booking.personMunicipality']}"/>
                        <h:outputText id="personMunicipality" value="#{bookingController.person.municipality}"/>
                        <p:outputLabel for="personCountry" value="#{lbl['booking.personCountry']}"/>
                        <h:outputText id="personCountry" value="#{bookingController.person.country.name}"/>
                    </p:panelGrid>
               </div>

            <div class="col-md-4">
                    <h2>#{lbl['booking.departureFlight']}</h2>
                        <p:panelGrid columns="2">
                        <p:outputLabel for="tripName" value="#{lbl['booking.personName']}"/>
                        <h:outputText id="tripName" value="#{bookingController.trip.name}"/>
                        <p:outputLabel for="tripDepartureFlightid" value="#{lbl['booking.tripDepartureFlightid']}"/>
                        <h:outputText id="tripDepartureFlightid"
                                      value="#{bookingController.trip.departureFlight.flightNumber}"/>
                        <p:outputLabel for="tripDepartureFlightDate" value="#{lbl['booking.tripDepartureFlightDate']}"/>
                        <h:outputText id="tripDepartureFlightDate" value="#{bookingController.trip.startDate}"/>
                        <p:outputLabel for="tripDepartureFlightTime" value="#{lbl['booking.tripDepartureFlightTime']}"/>
                        <h:outputText id="tripDepartureFlightTime"
                                      value="#{bookingController.trip.departureFlight.departureTime}"/>
                        <p:outputLabel for="tripDepartureFlightCountry"
                                       value="#{lbl['booking.tripDepartureFlightCountry']}"/>
                        <h:outputText id="tripDepartureFlightCountry"
                                      value="#{bookingController.trip.departureFlight.departure.country.name}"/>
                        <p:outputLabel for="tripDepartureFlightDestination"
                                       value="#{lbl['booking.tripDepartureFlightDestination']}"/>
                        <h:outputText id="tripDepartureFlightDestination"
                                      value="#{bookingController.trip.departureFlight.destination.country.name}"/>
                            <p:outputLabel for="tripDeparturePrice"
                                           value="#{lbl['trips.price']}"/>
                            <h:outputText id="tripDeparturePrice"
                                          value="#{bookingController.trip.departureFlight.price}"/>
                        </p:panelGrid>
                    </div>
                    <div class="col-md-4">
                    <h2>#{lbl['booking.returnFlight']}</h2>
                        <p:panelGrid columns="2">
                            <p:outputLabel for="tripreturn" value="#{lbl['booking.personName']}"/>
                            <h:outputText id="tripreturn" value="#{bookingController.trip.name}"/>
                        <p:outputLabel for="tripDestinationFlightid" value="#{lbl['booking.tripDepartureFlightid']}"/>
                        <h:outputText id="tripDestinationFlightid"
                                      value="#{bookingController.trip.returnFlight.flightNumber}"/>
                        <p:outputLabel for="tripDestinationFlightDate"
                                       value="#{lbl['booking.tripDestinationFlightDate']}"/>
                        <h:outputText id="tripDestinationFlightDate" value="#{bookingController.trip.endDate}"/>
                        <p:outputLabel for="tripDestinationFlightTime"
                                       value="#{lbl['booking.tripDestinationFlightTime']}"/>
                        <h:outputText id="tripDestinationFlightTime"
                                      value="#{bookingController.trip.returnFlight.departureTime}"/>
                        <p:outputLabel for="tripDestinationFlightCountry"
                                       value="#{lbl['booking.tripDestinationFlightCountry']}"/>
                        <h:outputText id="tripDestinationFlightCountry"
                                      value="#{bookingController.trip.returnFlight.departure.country.name}"/>
                        <p:outputLabel for="tripDestinationFlightDestination"
                                       value="#{lbl['booking.tripDepartureFlightDestination']}"/>
                        <h:outputText id="tripDestinationFlightDestination"
                                      value="#{bookingController.trip.returnFlight.destination.country.name}"/>
                            <p:outputLabel for="tripDestinationPrice"
                                           value="#{lbl['trips.price']}"/>
                            <h:outputText id="tripDestinationPrice"
                                          value="#{bookingController.trip.returnFlight.price}"/>
                        </p:panelGrid>
                    </div>
<p></p>
<p:separator/>
          <div>

            <h2>#{lbl['booking.choosePayment']}</h2>

                <p:selectOneRadio id="payment" value="#{bookingController.paymentMethode}" rendered="true" columns="1" >
                    <f:selectItem itemValue="Creditcard" itemLabel="Creditcard"/>
                    <f:selectItem itemValue="Online banking" itemLabel="Online banking"/>
                    <p:ajax update="price" event="valueChange" listener="#{bookingController.alterPrice}"/>
                </p:selectOneRadio>

                <p:outputLabel for="price" value="#{lbl['booking.price']}"/>
                <h:outputText id="price" value="#{bookingController.trip.price}"/>
               <br/>
            <p:commandButton action="#{bookingController.redirectToThankYouPage()}" value="#{lbl['booking.book']}"/>
          </div>

           </div>
        </h:form>
    </ui:define>
</ui:composition>